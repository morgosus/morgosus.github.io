---
layout: default
---

{%- include component/capture-day-posted.html -%}

{%- capture wordCount -%}{{- content | number_of_words -}}{%- endcapture -%}

{%- capture timeRequired -%}{{- wordCount | divided_by: 200 | round -}}{%- endcapture -%}

<article class="post h-entry" itemscope itemtype="https://schema.org/Article">

  <figure class="post__thumbnail-wrapper">
    <img itemprop="thumbnailUrl" class="post__thumbnail" src="{{- page.thumbnail -}}" alt="{{- page.thumbnail-alt -}}"/>
    <figcaption class="post__thumbnail-caption">{{- page.thumbnail-alt -}}</figcaption>
  </figure>

  <div class="post__header">
    <div class="post__meta">
      <time class="post__meta-published" datetime="{{- page.date | date_to_xmlschema -}}" itemprop="datePublished">{{- page.date | date: date_format -}}</time>

        {%- for item in page.hidden-meta -%}<span aria-hidden="true" itemprop="{{- item.itemprop -}}">{{- item.value -}}</span>{%- endfor -%}

        <span aria-hidden="true" itemprop="wordCount">{{- wordCount -}}</span>&nbsp;•&nbsp;<span itemprop="timeRequired">{{- timeRequired -}}-min</span>&nbsp;


      {%- if page.author -%}
        {%- include component/author.html -%}
      {%- endif -%}
    </div>
    <h1 class="post__title p-name" itemprop="name headline"><a class="post__about" href="../../../" itemprop="about">{%- if page.series -%}〔 {{- page.series -}} 〕{%- endif -%}</a><span itemprop="name headline">{{- page.title | escape -}}</span></h1>
  </div>
  <div class="post__content e-content" itemprop="articleBody">
    {{- content -}}
  </div>

  <div class="post__series-data">
    {%- if page.previous and page.previous.categories == page.categories -%}
    <figure class="post__previous">
      <!--<img src="{{- page.previous.thumbnail -}}" alt="{{- page.previous.alt -}}" />-->
      <figcaption class="caption">〔 Previous: {{ page.previous.title }} 〕</figcaption>
      <a rel="prev" class="card__overlay" href="{{- page.previous.id -}}" title="Go to the previous article in the series"></a>
    </figure>
    {%- endif -%}
    {%- if page.next and page.next.categories == page.categories -%}
    <figure class="post__next">
      <!--<img src="{{- page.next.thumbnail -}}" alt="{{- page.next.alt -}}" />-->
      <figcaption class="caption">〔 Next: {{ page.next.title }} 〕</figcaption>
      <a rel="next" class="card__overlay" href="{{- page.next.id -}}" title="Go to the next article in the series"></a>
    </figure>
    {%- endif -%}
  </div>

  <div itemprop="abstract" aria-hidden="true">{{- page.excerpt -}}</div>

  {%- include component/random-build-number.html -%}

  {%- if page.github_comments_issueid -%}
  <script src="https://giscus.app/client.js"
          data-repo="{{site.github_comments_repository}}"
          data-repo-id="MDEwOlJlcG9zaXRvcnkzOTYzMjY4NDA="
          data-mapping="number"
          data-term="{{page.github_comments_issueid}}"
          data-reactions-enabled="0"
          data-emit-metadata="1"
          data-theme={{- "https://api.toms.click/css/giscus.css?v=" | relative_url | append: randomBuildNumber -}}"
          crossorigin="anonymous"
          async>
  </script>
  {%- endif -%}

</article>

<script>
  const images = document.getElementsByTagName('img');

  //if not thumbnail and within post, replace with a captioned figure

  for (let ims = 0; ims < images.length; ims++) {
    let img = images[ims];
    if (img.classList.value === "") {
      console.log('here');
      const figr = document.createElement("figure");
      figr.setAttribute('class', 'post__image-wrapper');
      img.setAttribute('class', 'post__image');
      const cptn = document.createElement("figcaption");
      cptn.setAttribute('class', 'post__image-caption');
      cptn.innerHTML = img.alt;
      figr.appendChild(img.cloneNode());
      figr.appendChild(cptn);
      img.replaceWith(figr);
    }
  }
</script>